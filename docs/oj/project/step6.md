<!-- ## Step 6：持久化与安全控制

--- -->

### 模块目标

实现系统数据的持久化存储和管理功能，确保数据的完整性和系统的可维护性。

---

### 任务 1：系统重置功能

**这个接口是测例所依赖的，如果本接口没有正确实现可能导致所有CI失败**

- **重置接口**：提供清空所有数据、重置系统到初始状态的功能。
- **权限控制**：仅管理员可执行（测试环境可放宽权限要求）。
- **安全考虑**：防止误操作，提供确认机制。

**API 实现要求：**
- `POST /api/reset/` - 系统重置
- 清空所有用户、题目、提交等数据
- 重新创建初始管理员账户（admin/admin）

---

### 任务 2：数据导出功能

- **导出格式**：支持将系统数据导出为结构化格式（如 JSON）。
- **数据完整性**：包含用户、题目、提交等核心数据。
- **格式支持**：可选择不同的导出格式。

**API 实现要求：**
- `GET /api/export/` - 数据导出
- 支持 format 参数选择导出格式
- 返回包含 users、problems、submissions 等数据的结构

---

### 任务 3：数据导入功能

- **文件上传**：支持通过文件上传的方式导入数据。
- **数据验证**：验证导入数据的格式和完整性。
- **错误处理**：处理导入过程中的各种异常情况。

**API 实现要求：**
- `POST /api/import/` - 数据导入
- 支持文件上传
- 验证数据格式并导入到系统中
- 处理重复数据和冲突情况

---

### 评分细则

| 功能/接口                | 分值    | 评分说明                         |
|--------------------------|-------|----------------------------------|
| 系统重置功能             | 0     | 清空数据、重置到初始状态          |
| 数据导出功能             | 2     | 完整导出、格式正确               |
| 数据导入功能             | 3     | 文件上传、数据验证、错误处理      |
| **小计**                 | **5** |                                  |