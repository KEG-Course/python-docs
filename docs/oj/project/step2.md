## Step 2：题目评测与多语言支持

---

### 模块目标

本模块将实现 OJ 题目的自动化评测。你需要从题库读取题目信息，接收用户提交的代码，自动运行并比对输出，返回结构化的评测结果。要求至少支持 Python 语言，进一步扩展支持 C++ 等多语言。

---

### 题目输入输出规范

与大一程设课类似，OJ 评测对输入输出格式有严格要求。以 [P1001 A+B Problem](https://www.luogu.com.cn/problem/P1001) 为例：

- **输入**：一行，包含两个整数 a 和 b，空格分隔。
- **输出**：一行，输出 a+b 的结果。

**注意事项：**
- 不允许有多余提示语（如"请输入..."）。
- 输出末尾允许有换行，评测时会忽略多余的行末空格和最后一行多余换行。
- 输入输出必须严格匹配样例格式。

**输入样例：**
```
1 2
```
**输出样例：**
```
3
```

---

### 任务分解

#### 任务 1：支持 Python 评测
- 实现评测流程：自动读取题库中的样例输入输出，将输入传递给用户提交的 Python 代码，捕获输出并与标准答案比对。
- 返回结构化评测结果（如 AC/WA/RE/TLE），并保证评测过程安全、资源受控。

#### 任务 2：支持多语言评测（如 C++）
- 在 Python 评测基础上，扩展支持 C++ 等其他语言。
- 需根据 `language` 字段自动选择编译/运行命令，C++ 需先编译再运行。
- 设计良好的语言配置与切换机制，便于后续扩展。

#### 任务 3：动态注册新语言
- 支持管理员动态注册新语言，便于系统扩展。

#### 任务 4：查询支持的语言列表
- 支持查询当前系统支持的所有编程语言。

---

### 评测流程说明

1. 读取题目信息：根据题目 id 获取输入输出样例和限制条件。
2. 接收用户代码：获取用户提交的代码及语言类型。
3. 运行与比对：将样例输入传递给用户代码，捕获输出并与标准答案比对。
4. 返回结果：以结构化方式返回评测状态、得分、时间、内存等信息。

---

### 能力小结

| 能力项         | 说明                       |
| -------------- | -------------------------- |
| 多语言支持     | 至少支持 C/C++/Python      |
| 动态注册       | 支持运行时注册新语言       |
| 语言查询       | 支持查询所有已注册语言     |
| 安全校验       | 运行命令需校验，防注入     |

---

### 评分细则

| 功能/接口                | 分值 | 评分说明                         |
|--------------------------|------|----------------------------------|
| 多语言评测支持           | 2    | 评测流程支持多语言                |
| 动态注册新语言           | 3    | 支持动态注册、配置安全            |
| 查询支持语言列表         | 1    | 支持查询所有已注册语言            |
| 命令安全校验             | 2    | 命令校验、沙箱说明                |
| 文档与实现一致性         | 1    | 文档与实际实现同步                |
| **小计**                 | **9**|                                  |